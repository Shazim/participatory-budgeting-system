<!-- Page Header -->
<div class="bg-light py-4">
  <div class="container">
    <h1 class="h2 mb-0">
      <i class="fas fa-tags me-2"></i>
      Category Spending Limits
    </h1>
    <p class="text-muted mb-0">Manage spending caps for each budget category.</p>
  </div>
</div>

<!-- Main Content -->
<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h6 class="mb-0">All Budget Categories</h6>
    </div>
    <div class="table-responsive">
      <table class="table table-striped table-hover mb-0">
        <thead class="table-dark">
          <tr>
            <th>Category Name</th>
            <th>Budget</th>
            <th class="text-end">Limit (%)</th>
            <th class="text-end">Limit (Amount)</th>
            <th class="text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @budget_categories.each do |category| %>
            <tr>
              <td><%= category.name %></td>
              <td><%= category.budget.title %></td>
              <td class="text-end"><%= number_to_percentage(category.spending_limit_percentage, precision: 2) %></td>
              <td class="text-end"><%= number_to_currency(category.spending_limit_amount) %></td>
              <td class="text-end">
                <%= link_to 'Edit Limit', edit_admin_budget_category_path(category), class: 'btn btn-sm btn-outline-primary' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
